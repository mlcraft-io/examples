# Synmetrix с примером использования Большой Языковой Модели (LLM)

Это руководство демонстрирует, как использовать API Synmetrix с Большой Языковой Моделью (LLM), чтобы генерировать SQL-запросы из вопросов на естественном языке.

## Зачем нужен семантический слой для приложений на базе LLM?

При создании текстовых приложений для SQL крайне важно обеспечить LLM богатым контекстом о подлежащей модели данных. Без достаточного контекста даже людям трудно понимать данные, а LLM просто усугубит эту путаницу, производя неправильные ответы.

Во многих случаях недостаточно просто подать LLM схему базы данных и ожидать от неё генерации правильного SQL. Для корректной работы и выполнения надежных действий она должна иметь достаточно контекста и семантики о данных, которые она потребляет; она должна понимать метрики, размерности, сущности и связные аспекты данных, которыми она управляется. В основном — LLM нужен семантический слой.

## Начало работы

Прежде чем продолжить, убедитесь, что вы выполнили [Быстрый старт Synmetrix](https://docs.synmetrix.org/docs/quickstart#prerequisite-software).

### Необходимое программное обеспечение

- Python 3.9 или более поздняя версия
- PIP (менеджер пакетов Python)

Клонируйте этот репозиторий:

```bash
git clone https://github.com/mlcraft-io/examples
```

и перейдите в папку `langchain`:

```bash
cd examples/langchain
```

## Настройка Synmetrix с LLM

1. Настройте среду Python и установите необходимые пакеты:

```bash
source create-venv.sh
```

2. Скопируйте Токен Доступа Synmetrix

   - Войдите в Synmetrix: Перейдите на веб-сайт [Synmetrix Stack](https://localhost/) и войдите в свой аккаунт. Для демонстрации используйте предоставленные данные начального заполнения.
   - Извлеките API ключ: Перейдите в раздел [Explore -> REST API](https://docs.synmetrix.org/docs/user-guide/explore#example-api-utilization) и скопируйте оттуда предоставленный API ключ.
   - Вставьте скопированный API ключ как `SYNMETRIX_ACCESS_KEY` в файл `.env`.

3. Вставьте ключ API OpenAI

   - Войдите в OpenAI: Перейдите на веб-сайт [OpenAI](https://platform.openai.com/) и войдите в свой аккаунт.
   - Извлеките API ключ: Перейдите в раздел [API Keys](https://platform.openai.com/account/api-keys) и скопируйте оттуда предоставленный API ключ.
   - Вставьте скопированный API ключ как `OPENAI_API_KEY` в файл `.env`.

4. Запустите приложение на базе LLM:

```bash
streamlit run streamlit_app.py 
```

5. Посетите <http://localhost:8501>, чтобы ознакомиться с проектом.

### Видеоурок

[![](https://img.youtube.com/vi/TtH-pFGDK84/0.jpg)](https://youtu.be/TtH-pFGDK84)